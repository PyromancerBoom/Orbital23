version: '3'
services:
  instance1:
    image: asset_service
    ports: 
      - "8080:8080"
    environment:
      - PORT=8080
    volumes:
      - ./serverConfig.json:/app/serverConfig.json
  instance2:
    image: asset_service
    ports: 
      - "8081:8080"
    environment:
      - PORT=8081
    volumes:
      - ./serverConfig.json:/app/serverConfig.json
  instance3:
    image: asset_service
    ports: 
      - "8082:8080"
    environment:
      - PORT=8082
    volumes:
      - ./serverConfig.json:/app/serverConfig.json

  # service:
  #   network_mode: host
  #   image: asset_service
  #   build:
  #     context: .
  #     dockerfile: Dockerfile
  #   ports:
  #     - "8000-8005:8000-8005"
  #   deploy:
  #     replicas: 3